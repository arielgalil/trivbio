
<!-- saved from url=(0034)https://trivbio.web.app/admin.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="color-scheme" content="light dark"></head><body><div class="line-gutter-backdrop"></div><form autocomplete="off"><label class="line-wrap-control">砖转 砖专转<input type="checkbox" aria-label="砖转 砖专转"></label></form><table><tbody><tr><td class="line-number" value="1"></td><td class="line-content"><span class="html-doctype">&lt;!DOCTYPE html&gt;</span></td></tr><tr><td class="line-number" value="2"></td><td class="line-content"><span class="html-tag">&lt;html <span class="html-attribute-name">lang</span>="<span class="html-attribute-value">he</span>" <span class="html-attribute-name">dir</span>="<span class="html-attribute-value">rtl</span>"&gt;</span></td></tr><tr><td class="line-number" value="3"></td><td class="line-content"><span class="html-tag">&lt;head&gt;</span></td></tr><tr><td class="line-number" value="4"></td><td class="line-content">    <span class="html-tag">&lt;meta <span class="html-attribute-name">charset</span>="<span class="html-attribute-value">UTF-8</span>" /&gt;</span></td></tr><tr><td class="line-number" value="5"></td><td class="line-content">    <span class="html-tag">&lt;meta <span class="html-attribute-name">name</span>="<span class="html-attribute-value">viewport</span>" <span class="html-attribute-name">content</span>="<span class="html-attribute-value">width=device-width, initial-scale=1.0</span>" /&gt;</span></td></tr><tr><td class="line-number" value="6"></td><td class="line-content">    <span class="html-tag">&lt;title&gt;</span>专BIO - <span class="html-tag">&lt;/title&gt;</span></td></tr><tr><td class="line-number" value="7"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">preconnect</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://fonts.googleapis.com/" rel="noreferrer noopener">https://fonts.googleapis.com</a>"&gt;</span></td></tr><tr><td class="line-number" value="8"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">preconnect</span>" <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://fonts.gstatic.com/" rel="noreferrer noopener">https://fonts.gstatic.com</a>" <span class="html-attribute-name">crossorigin</span>&gt;</span></td></tr><tr><td class="line-number" value="9"></td><td class="line-content">    <span class="html-tag">&lt;link <span class="html-attribute-name">href</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew:wght@400;700&amp;display=swap" rel="noreferrer noopener">https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew:wght@400;700&amp;display=swap</a>" <span class="html-attribute-name">rel</span>="<span class="html-attribute-value">stylesheet</span>"&gt;</span></td></tr><tr><td class="line-number" value="10"></td><td class="line-content">    <span class="html-tag">&lt;style&gt;</span></td></tr><tr><td class="line-number" value="11"></td><td class="line-content">        /* --- General Styles --- */</td></tr><tr><td class="line-number" value="12"></td><td class="line-content">        :root {</td></tr><tr><td class="line-number" value="13"></td><td class="line-content">            --bg-color: #f5f7fa;</td></tr><tr><td class="line-number" value="14"></td><td class="line-content">            --text-color: #2d3748;</td></tr><tr><td class="line-number" value="15"></td><td class="line-content">            --card-bg: #ffffff;</td></tr><tr><td class="line-number" value="16"></td><td class="line-content">            --card-border: #e2e8f0;</td></tr><tr><td class="line-number" value="17"></td><td class="line-content">            --button-bg: #a3bffa;</td></tr><tr><td class="line-number" value="18"></td><td class="line-content">            --button-hover-bg: #7f9cf5;</td></tr><tr><td class="line-number" value="19"></td><td class="line-content">            --button-text: white;</td></tr><tr><td class="line-number" value="20"></td><td class="line-content">            --input-bg: #e2e8f0;</td></tr><tr><td class="line-number" value="21"></td><td class="line-content">            --input-border: #cbd5e0;</td></tr><tr><td class="line-number" value="22"></td><td class="line-content">            --accent-color: #7f9cf5;</td></tr><tr><td class="line-number" value="23"></td><td class="line-content">            --success-color: #48bb78;</td></tr><tr><td class="line-number" value="24"></td><td class="line-content">            --danger-color: #f56565;</td></tr><tr><td class="line-number" value="25"></td><td class="line-content">            --link-color: #5a67d8;</td></tr><tr><td class="line-number" value="26"></td><td class="line-content">            --disabled-bg: #cbd5e0;</td></tr><tr><td class="line-number" value="27"></td><td class="line-content">            --disabled-text: #a0aec0;</td></tr><tr><td class="line-number" value="28"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="29"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="30"></td><td class="line-content">        body.dark-mode {</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">            --bg-color: #1a202c;</td></tr><tr><td class="line-number" value="32"></td><td class="line-content">            --text-color: #e2e8f0;</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">            --card-bg: #2d3748;</td></tr><tr><td class="line-number" value="34"></td><td class="line-content">            --card-border: #4a5568;</td></tr><tr><td class="line-number" value="35"></td><td class="line-content">            --button-bg: #4a5568;</td></tr><tr><td class="line-number" value="36"></td><td class="line-content">            --button-hover-bg: #2d3748;</td></tr><tr><td class="line-number" value="37"></td><td class="line-content">            --button-text: #e2e8f0;</td></tr><tr><td class="line-number" value="38"></td><td class="line-content">            --input-bg: #4a5568;</td></tr><tr><td class="line-number" value="39"></td><td class="line-content">            --input-border: #718096;</td></tr><tr><td class="line-number" value="40"></td><td class="line-content">            --accent-color: #63b3ed;</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">            --success-color: #68d391;</td></tr><tr><td class="line-number" value="42"></td><td class="line-content">            --danger-color: #fc8181;</td></tr><tr><td class="line-number" value="43"></td><td class="line-content">            --link-color: #63b3ed;</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">            --disabled-bg: #4a5568;</td></tr><tr><td class="line-number" value="45"></td><td class="line-content">            --disabled-text: #718096;</td></tr><tr><td class="line-number" value="46"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="47"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="48"></td><td class="line-content">        body {</td></tr><tr><td class="line-number" value="49"></td><td class="line-content">            font-family: "Noto Sans Hebrew", sans-serif;</td></tr><tr><td class="line-number" value="50"></td><td class="line-content">            background-color: var(--bg-color);</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">            color: var(--text-color);</td></tr><tr><td class="line-number" value="52"></td><td class="line-content">            margin: 0;</td></tr><tr><td class="line-number" value="53"></td><td class="line-content">            padding: 0;</td></tr><tr><td class="line-number" value="54"></td><td class="line-content">            transition: background-color 0.3s, color 0.3s;</td></tr><tr><td class="line-number" value="55"></td><td class="line-content">            line-height: 1.6;</td></tr><tr><td class="line-number" value="56"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="57"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="58"></td><td class="line-content">        .container {</td></tr><tr><td class="line-number" value="59"></td><td class="line-content">            max-width: 900px;</td></tr><tr><td class="line-number" value="60"></td><td class="line-content">            margin: 20px auto;</td></tr><tr><td class="line-number" value="61"></td><td class="line-content">            padding: 15px;</td></tr><tr><td class="line-number" value="62"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="63"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="64"></td><td class="line-content">        header {</td></tr><tr><td class="line-number" value="65"></td><td class="line-content">            display: flex;</td></tr><tr><td class="line-number" value="66"></td><td class="line-content">            justify-content: center;</td></tr><tr><td class="line-number" value="67"></td><td class="line-content">            align-items: center;</td></tr><tr><td class="line-number" value="68"></td><td class="line-content">            position: relative;</td></tr><tr><td class="line-number" value="69"></td><td class="line-content">            margin-bottom: 20px;</td></tr><tr><td class="line-number" value="70"></td><td class="line-content">            flex-wrap: wrap;</td></tr><tr><td class="line-number" value="71"></td><td class="line-content">            gap: 10px;</td></tr><tr><td class="line-number" value="72"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="73"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="74"></td><td class="line-content">        h1 { font-size: 1.8rem; margin: 0; order: 2; }</td></tr><tr><td class="line-number" value="75"></td><td class="line-content">        header .switch { order: 1; }</td></tr><tr><td class="line-number" value="76"></td><td class="line-content">        header #logout-btn { order: 3; }</td></tr><tr><td class="line-number" value="77"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="78"></td><td class="line-content">        /* --- Theme Toggle --- */</td></tr><tr><td class="line-number" value="79"></td><td class="line-content">         .switch { position: relative; display: inline-block; width: 60px; height: 34px; }</td></tr><tr><td class="line-number" value="80"></td><td class="line-content">         .switch input { opacity: 0; width: 0; height: 0; }</td></tr><tr><td class="line-number" value="81"></td><td class="line-content">         .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; display: flex; align-items: center; justify-content: space-between; padding: 0 5px; }</td></tr><tr><td class="line-number" value="82"></td><td class="line-content">         .slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }</td></tr><tr><td class="line-number" value="83"></td><td class="line-content">         input:checked + .slider { background-color: var(--accent-color); }</td></tr><tr><td class="line-number" value="84"></td><td class="line-content">         input:checked + .slider:before { transform: translateX(26px); }</td></tr><tr><td class="line-number" value="85"></td><td class="line-content">         .theme-icon { width: 20px; height: 20px; transition: opacity 0.4s; }</td></tr><tr><td class="line-number" value="86"></td><td class="line-content">         .sun { opacity: 1; } .moon { opacity: 0; }</td></tr><tr><td class="line-number" value="87"></td><td class="line-content">         input:checked + .slider .sun { opacity: 0; } input:checked + .slider .moon { opacity: 1; }</td></tr><tr><td class="line-number" value="88"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="89"></td><td class="line-content">        /* --- Buttons --- */</td></tr><tr><td class="line-number" value="90"></td><td class="line-content">        button { font-family: "Noto Sans Hebrew", sans-serif; padding: 8px 15px; border-radius: 8px; border: none; cursor: pointer; font-size: 0.95rem; transition: background-color 0.3s, transform 0.1s, opacity 0.2s; margin: 5px; vertical-align: middle; }</td></tr><tr><td class="line-number" value="91"></td><td class="line-content">        button:active { transform: scale(0.98); }</td></tr><tr><td class="line-number" value="92"></td><td class="line-content">        button:disabled { background-color: var(--disabled-bg) !important; color: var(--disabled-text) !important; cursor: not-allowed; transform: none !important; opacity: 0.7; }</td></tr><tr><td class="line-number" value="93"></td><td class="line-content">        .btn-primary { background-color: var(--button-bg); color: var(--button-text); }</td></tr><tr><td class="line-number" value="94"></td><td class="line-content">        .btn-primary:hover:not(:disabled) { background-color: var(--button-hover-bg); }</td></tr><tr><td class="line-number" value="95"></td><td class="line-content">        .btn-danger { background-color: var(--danger-color); color: white; }</td></tr><tr><td class="line-number" value="96"></td><td class="line-content">        .btn-danger:hover:not(:disabled) { opacity: 0.85; }</td></tr><tr><td class="line-number" value="97"></td><td class="line-content">        .btn-success { background-color: var(--success-color); color: white; }</td></tr><tr><td class="line-number" value="98"></td><td class="line-content">        .btn-success:hover:not(:disabled) { opacity: 0.85; }</td></tr><tr><td class="line-number" value="99"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="100"></td><td class="line-content">        /* --- Auth Section --- */</td></tr><tr><td class="line-number" value="101"></td><td class="line-content">        #auth-section { text-align: center; padding: 40px 20px; }</td></tr><tr><td class="line-number" value="102"></td><td class="line-content">        #auth-section p { margin-bottom: 20px; font-size: 1.1rem; }</td></tr><tr><td class="line-number" value="103"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="104"></td><td class="line-content">        /* --- Admin Content --- */</td></tr><tr><td class="line-number" value="105"></td><td class="line-content">        #admin-content { display: none; }</td></tr><tr><td class="line-number" value="106"></td><td class="line-content">        .card { background-color: var(--card-bg); border: 1px solid var(--card-border); border-radius: 10px; padding: 15px 20px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }</td></tr><tr><td class="line-number" value="107"></td><td class="line-content">        body.dark-mode .card { box-shadow: 0 2px 4px rgba(0,0,0,0.15); }</td></tr><tr><td class="line-number" value="108"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="109"></td><td class="line-content">        /* --- Stats Section --- */</td></tr><tr><td class="line-number" value="110"></td><td class="line-content">        #stats-section { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; text-align: center; }</td></tr><tr><td class="line-number" value="111"></td><td class="line-content">        .stat-item h3 { margin: 0 0 5px 0; font-size: 1rem; color: var(--accent-color); }</td></tr><tr><td class="line-number" value="112"></td><td class="line-content">        .stat-item p { margin: 0; font-size: 1.5rem; font-weight: bold; }</td></tr><tr><td class="line-number" value="113"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="114"></td><td class="line-content">        /* --- Questions Section --- */</td></tr><tr><td class="line-number" value="115"></td><td class="line-content">        #questions-section h2 { margin-bottom: 15px; }</td></tr><tr><td class="line-number" value="116"></td><td class="line-content">        #questions-list .question-item { border-bottom: 1px solid var(--card-border); padding: 15px 0; }</td></tr><tr><td class="line-number" value="117"></td><td class="line-content">        #questions-list .question-item:last-child { border-bottom: none; }</td></tr><tr><td class="line-number" value="118"></td><td class="line-content">        .question-summary { display: flex; justify-content: space-between; align-items: flex-start; gap: 10px; }</td></tr><tr><td class="line-number" value="119"></td><td class="line-content">        .question-text { flex-grow: 1; font-size: 1rem; margin: 0; }</td></tr><tr><td class="line-number" value="120"></td><td class="line-content">        .question-actions button { font-size: 0.85rem; padding: 5px 10px; }</td></tr><tr><td class="line-number" value="121"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="122"></td><td class="line-content">        /* --- Question Details Alignment --- */</td></tr><tr><td class="line-number" value="123"></td><td class="line-content">        .question-details { font-size: 0.8rem; color: var(--disabled-text); margin-top: 5px; display: block; direction: rtl; text-align: right; }</td></tr><tr><td class="line-number" value="124"></td><td class="line-content">        .question-details .question-id { display: inline-block; direction: ltr; unicode-bidi: embed; }</td></tr><tr><td class="line-number" value="125"></td><td class="line-content">        body.dark-mode .question-details { color: var(--disabled-bg); }</td></tr><tr><td class="line-number" value="126"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="127"></td><td class="line-content">        /* --- *** MODIFIED: Filter Controls CSS *** --- */</td></tr><tr><td class="line-number" value="128"></td><td class="line-content">        #filter-controls {</td></tr><tr><td class="line-number" value="129"></td><td class="line-content">            display: flex;</td></tr><tr><td class="line-number" value="130"></td><td class="line-content">            flex-wrap: wrap;</td></tr><tr><td class="line-number" value="131"></td><td class="line-content">            gap: 15px;</td></tr><tr><td class="line-number" value="132"></td><td class="line-content">            margin-bottom: 20px;</td></tr><tr><td class="line-number" value="133"></td><td class="line-content">            border-bottom: 1px solid var(--card-border);</td></tr><tr><td class="line-number" value="134"></td><td class="line-content">            padding-bottom: 15px;</td></tr><tr><td class="line-number" value="135"></td><td class="line-content">            align-items: flex-end; /* Vertically align items to the bottom */</td></tr><tr><td class="line-number" value="136"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="137"></td><td class="line-content">        #filter-controls &gt; div {</td></tr><tr><td class="line-number" value="138"></td><td class="line-content">            flex-grow: 1;</td></tr><tr><td class="line-number" value="139"></td><td class="line-content">            /* min-width: 200px; */ /* Adjust if needed for better wrapping */</td></tr><tr><td class="line-number" value="140"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="141"></td><td class="line-content">        .filter-group-topic-clear {</td></tr><tr><td class="line-number" value="142"></td><td class="line-content">            display: flex;</td></tr><tr><td class="line-number" value="143"></td><td class="line-content">            align-items: flex-end; /* Aligns the wrapper and the button */</td></tr><tr><td class="line-number" value="144"></td><td class="line-content">            gap: 10px;</td></tr><tr><td class="line-number" value="145"></td><td class="line-content">            flex-grow: 1; /* Allow this group to grow as well */</td></tr><tr><td class="line-number" value="146"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="147"></td><td class="line-content">        .topic-select-wrapper {</td></tr><tr><td class="line-number" value="148"></td><td class="line-content">            flex-grow: 1; /* Select part takes available space */</td></tr><tr><td class="line-number" value="149"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="150"></td><td class="line-content">        #filter-controls label {</td></tr><tr><td class="line-number" value="151"></td><td class="line-content">            display: block;</td></tr><tr><td class="line-number" value="152"></td><td class="line-content">            margin-bottom: 5px;</td></tr><tr><td class="line-number" value="153"></td><td class="line-content">            font-size: 0.9rem;</td></tr><tr><td class="line-number" value="154"></td><td class="line-content">            font-weight: bold;</td></tr><tr><td class="line-number" value="155"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="156"></td><td class="line-content">        #filter-controls input[type="search"],</td></tr><tr><td class="line-number" value="157"></td><td class="line-content">        #filter-controls select {</td></tr><tr><td class="line-number" value="158"></td><td class="line-content">            width: 100%;</td></tr><tr><td class="line-number" value="159"></td><td class="line-content">            padding: 8px;</td></tr><tr><td class="line-number" value="160"></td><td class="line-content">            border: 1px solid var(--input-border);</td></tr><tr><td class="line-number" value="161"></td><td class="line-content">            background-color: var(--input-bg);</td></tr><tr><td class="line-number" value="162"></td><td class="line-content">            color: var(--text-color);</td></tr><tr><td class="line-number" value="163"></td><td class="line-content">            border-radius: 5px;</td></tr><tr><td class="line-number" value="164"></td><td class="line-content">            box-sizing: border-box;</td></tr><tr><td class="line-number" value="165"></td><td class="line-content">            font-size: 0.95rem;</td></tr><tr><td class="line-number" value="166"></td><td class="line-content">            margin: 0;</td></tr><tr><td class="line-number" value="167"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="168"></td><td class="line-content">        #filter-controls button#clear-filters-btn {</td></tr><tr><td class="line-number" value="169"></td><td class="line-content">             padding: 8px 12px;</td></tr><tr><td class="line-number" value="170"></td><td class="line-content">             white-space: nowrap;</td></tr><tr><td class="line-number" value="171"></td><td class="line-content">             margin: 0; /* Ensures no margin interferes with alignment */</td></tr><tr><td class="line-number" value="172"></td><td class="line-content">             flex-shrink: 0; /* Prevent button from shrinking */</td></tr><tr><td class="line-number" value="173"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="174"></td><td class="line-content">        /* --- End Filter Controls CSS --- */</td></tr><tr><td class="line-number" value="175"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="176"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="177"></td><td class="line-content">        /* --- Question Form (Modal) --- */</td></tr><tr><td class="line-number" value="178"></td><td class="line-content">        #question-form-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); display: none; justify-content: center; align-items: center; z-index: 1000; padding: 15px; box-sizing: border-box; }</td></tr><tr><td class="line-number" value="179"></td><td class="line-content">        #question-form-container { background-color: var(--card-bg); padding: 25px; border-radius: 10px; max-width: 600px; width: 100%; max-height: 90vh; overflow-y: auto; position: relative; }</td></tr><tr><td class="line-number" value="180"></td><td class="line-content">        #question-form h3 { margin-top: 0; margin-bottom: 20px; text-align: center; }</td></tr><tr><td class="line-number" value="181"></td><td class="line-content">        .form-group { margin-bottom: 15px; }</td></tr><tr><td class="line-number" value="182"></td><td class="line-content">        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }</td></tr><tr><td class="line-number" value="183"></td><td class="line-content">        .form-group input[type="text"], .form-group textarea, .form-group select { width: 100%; padding: 10px; border: 1px solid var(--input-border); background-color: var(--input-bg); color: var(--text-color); border-radius: 5px; font-size: 1rem; box-sizing: border-box; }</td></tr><tr><td class="line-number" value="184"></td><td class="line-content">        .form-group textarea { min-height: 80px; resize: vertical; }</td></tr><tr><td class="line-number" value="185"></td><td class="line-content">        .answer-group { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }</td></tr><tr><td class="line-number" value="186"></td><td class="line-content">        .answer-group input[type="text"] { flex-grow: 1; }</td></tr><tr><td class="line-number" value="187"></td><td class="line-content">        .answer-group input[type="radio"] { width: 20px; height: 20px; cursor: pointer; }</td></tr><tr><td class="line-number" value="188"></td><td class="line-content">        .answer-group button { padding: 3px 8px !important; font-size: 1rem !important; line-height: 1; margin: 0 0 0 5px !important; }</td></tr><tr><td class="line-number" value="189"></td><td class="line-content">        .form-actions { text-align: center; margin-top: 20px; }</td></tr><tr><td class="line-number" value="190"></td><td class="line-content">        #close-modal-btn { position: absolute; top: 10px; left: 15px; background: none; border: none; font-size: 1.5rem; color: var(--text-color); cursor: pointer; }</td></tr><tr><td class="line-number" value="191"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="192"></td><td class="line-content">        /* --- Loading / Messages --- */</td></tr><tr><td class="line-number" value="193"></td><td class="line-content">        #loading, #access-denied, #general-error, #no-results-message { text-align: center; padding: 30px; font-size: 1.1rem; display: none; }</td></tr><tr><td class="line-number" value="194"></td><td class="line-content">        #loading p, #access-denied p, #general-error p, #no-results-message p { margin: 0; }</td></tr><tr><td class="line-number" value="195"></td><td class="line-content">        #no-results-message { padding: 20px; color: var(--disabled-text); }</td></tr><tr><td class="line-number" value="196"></td><td class="line-content">        body.dark-mode #no-results-message { color: var(--disabled-bg); }</td></tr><tr><td class="line-number" value="197"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="198"></td><td class="line-content">        /* --- Clickable Tags --- */</td></tr><tr><td class="line-number" value="199"></td><td class="line-content">        .tag-link { color: var(--link-color); cursor: pointer; text-decoration: none; margin: 0 2px; display: inline-block; padding: 1px 4px; border-radius: 4px; transition: background-color 0.2s, color 0.2s; }</td></tr><tr><td class="line-number" value="200"></td><td class="line-content">        .tag-link:hover { text-decoration: underline; background-color: var(--input-bg); }</td></tr><tr><td class="line-number" value="201"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="202"></td><td class="line-content">        /* --- Pagination Controls --- */</td></tr><tr><td class="line-number" value="203"></td><td class="line-content">        #pagination-controls { text-align: center; margin-top: 20px; display: none; }</td></tr><tr><td class="line-number" value="204"></td><td class="line-content">        #pagination-controls span { margin: 0 15px; vertical-align: middle; direction: ltr; }</td></tr><tr><td class="line-number" value="205"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="206"></td><td class="line-content">        /* --- Responsive --- */</td></tr><tr><td class="line-number" value="207"></td><td class="line-content">        @media (max-width: 700px) { /* Adjust breakpoint for filter wrapping */</td></tr><tr><td class="line-number" value="208"></td><td class="line-content">             #filter-controls &gt; div { min-width: 100%; } /* Make each filter group take full width */</td></tr><tr><td class="line-number" value="209"></td><td class="line-content">             .filter-group-topic-clear { /* Ensure topic+clear still works */</td></tr><tr><td class="line-number" value="210"></td><td class="line-content">                 width: 100%;</td></tr><tr><td class="line-number" value="211"></td><td class="line-content">             }</td></tr><tr><td class="line-number" value="212"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="213"></td><td class="line-content">        @media (max-width: 600px) {</td></tr><tr><td class="line-number" value="214"></td><td class="line-content">            h1 { font-size: 1.5rem; }</td></tr><tr><td class="line-number" value="215"></td><td class="line-content">            header { justify-content: space-around; }</td></tr><tr><td class="line-number" value="216"></td><td class="line-content">            .question-summary { flex-direction: column; align-items: stretch; }</td></tr><tr><td class="line-number" value="217"></td><td class="line-content">            .question-actions { text-align: right; margin-top: 10px; }</td></tr><tr><td class="line-number" value="218"></td><td class="line-content">            #question-form-container { padding: 15px; }</td></tr><tr><td class="line-number" value="219"></td><td class="line-content">            #close-modal-btn { top: 5px; left: 10px; }</td></tr><tr><td class="line-number" value="220"></td><td class="line-content">            .answer-group label { display: none; }</td></tr><tr><td class="line-number" value="221"></td><td class="line-content">            /* Filter controls already stacked by breakpoint above */</td></tr><tr><td class="line-number" value="222"></td><td class="line-content">            /* #filter-controls { flex-direction: column; align-items: stretch; } */</td></tr><tr><td class="line-number" value="223"></td><td class="line-content">            #filter-controls &gt; div:last-child { align-self: center; margin-top: 10px; }</td></tr><tr><td class="line-number" value="224"></td><td class="line-content">            #pagination-controls span { margin: 0 8px; }</td></tr><tr><td class="line-number" value="225"></td><td class="line-content">            #pagination-controls button { padding: 6px 10px; }</td></tr><tr><td class="line-number" value="226"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="227"></td><td class="line-content">    <span class="html-tag">&lt;/style&gt;</span></td></tr><tr><td class="line-number" value="228"></td><td class="line-content"><span class="html-tag">&lt;/head&gt;</span></td></tr><tr><td class="line-number" value="229"></td><td class="line-content"><span class="html-tag">&lt;body&gt;</span></td></tr><tr><td class="line-number" value="230"></td><td class="line-content">    <span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="231"></td><td class="line-content">        const initialDarkMode = localStorage.getItem("darkMode") === "true";</td></tr><tr><td class="line-number" value="232"></td><td class="line-content">        document.body.classList.toggle("dark-mode", initialDarkMode);</td></tr><tr><td class="line-number" value="233"></td><td class="line-content">    <span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="234"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="235"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">container</span>"&gt;</span></td></tr><tr><td class="line-number" value="236"></td><td class="line-content">        <span class="html-tag">&lt;header&gt;</span></td></tr><tr><td class="line-number" value="237"></td><td class="line-content">            <span class="html-tag">&lt;label <span class="html-attribute-name">class</span>="<span class="html-attribute-value">switch</span>"&gt;</span></td></tr><tr><td class="line-number" value="238"></td><td class="line-content">                <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">checkbox</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">theme-toggle</span>" /&gt;</span></td></tr><tr><td class="line-number" value="239"></td><td class="line-content">                <span class="html-tag">&lt;span <span class="html-attribute-name">class</span>="<span class="html-attribute-value">slider</span>"&gt;</span></td></tr><tr><td class="line-number" value="240"></td><td class="line-content">                  <span class="html-tag">&lt;img <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://img.icons8.com/ios-glyphs/30/ffffff/sun.png" rel="noreferrer noopener">https://img.icons8.com/ios-glyphs/30/ffffff/sun.png</a>" <span class="html-attribute-name">alt</span>="<span class="html-attribute-value">砖砖</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">theme-icon sun</span>"/&gt;</span></td></tr><tr><td class="line-number" value="241"></td><td class="line-content">                  <span class="html-tag">&lt;img <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://img.icons8.com/ios-glyphs/30/ffffff/moon-symbol.png" rel="noreferrer noopener">https://img.icons8.com/ios-glyphs/30/ffffff/moon-symbol.png</a>" <span class="html-attribute-name">alt</span>="<span class="html-attribute-value">专</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">theme-icon moon</span>"/&gt;</span></td></tr><tr><td class="line-number" value="242"></td><td class="line-content">                <span class="html-tag">&lt;/span&gt;</span></td></tr><tr><td class="line-number" value="243"></td><td class="line-content">              <span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="244"></td><td class="line-content">            <span class="html-tag">&lt;h1&gt;</span> 专BIO<span class="html-tag">&lt;/h1&gt;</span></td></tr><tr><td class="line-number" value="245"></td><td class="line-content">            <span class="html-tag">&lt;button <span class="html-attribute-name">id</span>="<span class="html-attribute-value">logout-btn</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-danger</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: none;</span>"&gt;</span>转转拽<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="246"></td><td class="line-content">        <span class="html-tag">&lt;/header&gt;</span></td></tr><tr><td class="line-number" value="247"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="248"></td><td class="line-content">        <span class="html-tag">&lt;main&gt;</span></td></tr><tr><td class="line-number" value="249"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">auth-section</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: none;</span>"&gt;</span></td></tr><tr><td class="line-number" value="250"></td><td class="line-content">                <span class="html-tag">&lt;p&gt;</span>砖 转专 注 砖 Google 专砖  砖转 .<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="251"></td><td class="line-content">                <span class="html-tag">&lt;button <span class="html-attribute-name">id</span>="<span class="html-attribute-value">login-btn</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-primary</span>"&gt;</span>转专 注 Google<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="252"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="253"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">loading</span>"&gt;</span><span class="html-tag">&lt;p&gt;</span>注...<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="254"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">access-denied</span>"&gt;</span><span class="html-tag">&lt;p&gt;</span>  专砖 砖转 注 .<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="255"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">general-error</span>"&gt;</span><span class="html-tag">&lt;p&gt;</span>锔 砖 注转 转. 拽 转 专  住 砖 专 转专.<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="256"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="257"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">admin-content</span>"&gt;</span></td></tr><tr><td class="line-number" value="258"></td><td class="line-content">                <span class="html-tag">&lt;section <span class="html-attribute-name">id</span>="<span class="html-attribute-value">stats-section</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">card</span>"&gt;</span></td></tr><tr><td class="line-number" value="259"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">stat-item</span>"&gt;</span><span class="html-tag">&lt;h3&gt;</span>住" 砖转<span class="html-tag">&lt;/h3&gt;</span><span class="html-tag">&lt;p <span class="html-attribute-name">id</span>="<span class="html-attribute-value">stat-total-questions</span>"&gt;</span>?<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="260"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">stat-item</span>"&gt;</span><span class="html-tag">&lt;h3&gt;</span>砖拽 专砖<span class="html-tag">&lt;/h3&gt;</span><span class="html-tag">&lt;p <span class="html-attribute-name">id</span>="<span class="html-attribute-value">stat-total-players</span>"&gt;</span>?<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="261"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">stat-item</span>"&gt;</span><span class="html-tag">&lt;h3&gt;</span>转爪转 转 ()<span class="html-tag">&lt;/h3&gt;</span><span class="html-tag">&lt;p <span class="html-attribute-name">id</span>="<span class="html-attribute-value">stat-daily-results</span>"&gt;</span>?<span class="html-tag">&lt;/p&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="262"></td><td class="line-content">                <span class="html-tag">&lt;/section&gt;</span></td></tr><tr><td class="line-number" value="263"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="264"></td><td class="line-content">                <span class="html-tag">&lt;section <span class="html-attribute-name">id</span>="<span class="html-attribute-value">questions-section</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">card</span>"&gt;</span></td></tr><tr><td class="line-number" value="265"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">style</span>="<span class="html-attribute-value">display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; flex-wrap: wrap; gap: 10px;</span>"&gt;</span></td></tr><tr><td class="line-number" value="266"></td><td class="line-content">                       <span class="html-tag">&lt;h2&gt;</span> 砖转<span class="html-tag">&lt;/h2&gt;</span></td></tr><tr><td class="line-number" value="267"></td><td class="line-content">                       <span class="html-tag">&lt;button <span class="html-attribute-name">id</span>="<span class="html-attribute-value">add-question-btn</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-success</span>"&gt;</span>住祝 砖 砖 +<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="268"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="269"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="270"></td><td class="line-content">                    <span class="html-comment">&lt;!-- *** MODIFIED: Filter Controls HTML Structure *** --&gt;</span></td></tr><tr><td class="line-number" value="271"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">filter-controls</span>"&gt;</span></td></tr><tr><td class="line-number" value="272"></td><td class="line-content">                        <span class="html-tag">&lt;div&gt;</span> <span class="html-comment">&lt;!-- Search Input --&gt;</span></td></tr><tr><td class="line-number" value="273"></td><td class="line-content">                            <span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">search-input</span>"&gt;</span>驻砖:<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="274"></td><td class="line-content">                            <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">search</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">search-input</span>" <span class="html-attribute-name">placeholder</span>="<span class="html-attribute-value">驻砖 砖, 转砖转, 砖, 转转...</span>"&gt;</span></td></tr><tr><td class="line-number" value="275"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="276"></td><td class="line-content">                        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">filter-group-topic-clear</span>"&gt;</span> <span class="html-comment">&lt;!-- Container for Topic + Clear Button --&gt;</span></td></tr><tr><td class="line-number" value="277"></td><td class="line-content">                            <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">topic-select-wrapper</span>"&gt;</span> <span class="html-comment">&lt;!-- Wrapper for Label + Select --&gt;</span></td></tr><tr><td class="line-number" value="278"></td><td class="line-content">                                <span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">topic-filter</span>"&gt;</span>住 驻 砖:<span class="html-tag">&lt;/label&gt;</span></td></tr><tr><td class="line-number" value="279"></td><td class="line-content">                                <span class="html-tag">&lt;select <span class="html-attribute-name">id</span>="<span class="html-attribute-value">topic-filter</span>"&gt;</span></td></tr><tr><td class="line-number" value="280"></td><td class="line-content">                                    <span class="html-tag">&lt;option <span class="html-attribute-name">value</span>=""&gt;</span> 砖<span class="html-tag">&lt;/option&gt;</span></td></tr><tr><td class="line-number" value="281"></td><td class="line-content">                                    <span class="html-tag">&lt;option <span class="html-attribute-name">value</span>="<span class="html-attribute-value">human-body</span>"&gt;</span>祝 <span class="html-tag">&lt;/option&gt;</span></td></tr><tr><td class="line-number" value="282"></td><td class="line-content">                                    <span class="html-tag">&lt;option <span class="html-attribute-name">value</span>="<span class="html-attribute-value">cell</span>"&gt;</span>转<span class="html-tag">&lt;/option&gt;</span></td></tr><tr><td class="line-number" value="283"></td><td class="line-content">                                    <span class="html-tag">&lt;option <span class="html-attribute-name">value</span>="<span class="html-attribute-value">ecology</span>"&gt;</span>拽<span class="html-tag">&lt;/option&gt;</span></td></tr><tr><td class="line-number" value="284"></td><td class="line-content">                                    <span class="html-comment">&lt;!-- Add more topics as needed --&gt;</span></td></tr><tr><td class="line-number" value="285"></td><td class="line-content">                                <span class="html-tag">&lt;/select&gt;</span></td></tr><tr><td class="line-number" value="286"></td><td class="line-content">                            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="287"></td><td class="line-content">                            <span class="html-tag">&lt;button <span class="html-attribute-name">id</span>="<span class="html-attribute-value">clear-filters-btn</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-danger</span>"&gt;</span>拽 住<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="288"></td><td class="line-content">                        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="289"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="290"></td><td class="line-content">                    <span class="html-comment">&lt;!-- *** End Filter Controls HTML Structure *** --&gt;</span></td></tr><tr><td class="line-number" value="291"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="292"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">questions-list</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="293"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">pagination-controls</span>"&gt;</span></td></tr><tr><td class="line-number" value="294"></td><td class="line-content">                        <span class="html-tag">&lt;button <span class="html-attribute-name">id</span>="<span class="html-attribute-value">prev-page-btn</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-primary</span>"&gt;</span>芦 拽<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="295"></td><td class="line-content">                        <span class="html-tag">&lt;span <span class="html-attribute-name">id</span>="<span class="html-attribute-value">page-info</span>"&gt;</span><span class="html-tag">&lt;/span&gt;</span></td></tr><tr><td class="line-number" value="296"></td><td class="line-content">                        <span class="html-tag">&lt;button <span class="html-attribute-name">id</span>="<span class="html-attribute-value">next-page-btn</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-primary</span>"&gt;</span> 禄<span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="297"></td><td class="line-content">                    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="298"></td><td class="line-content">                     <span class="html-tag">&lt;p <span class="html-attribute-name">id</span>="<span class="html-attribute-value">no-results-message</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">padding: 20px; text-align: center; display: none;</span>"&gt;</span> 爪 砖转 转转 转 住.<span class="html-tag">&lt;/p&gt;</span></td></tr><tr><td class="line-number" value="299"></td><td class="line-content">                <span class="html-tag">&lt;/section&gt;</span></td></tr><tr><td class="line-number" value="300"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="301"></td><td class="line-content">        <span class="html-tag">&lt;/main&gt;</span></td></tr><tr><td class="line-number" value="302"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="303"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">question-form-modal</span>"&gt;</span></td></tr><tr><td class="line-number" value="304"></td><td class="line-content">            <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">question-form-container</span>"&gt;</span></td></tr><tr><td class="line-number" value="305"></td><td class="line-content">                 <span class="html-tag">&lt;button <span class="html-attribute-name">id</span>="<span class="html-attribute-value">close-modal-btn</span>" <span class="html-attribute-name">title</span>="<span class="html-attribute-value">住专</span>"&gt;</span><span class="html-tag">&lt;/button&gt;</span></td></tr><tr><td class="line-number" value="306"></td><td class="line-content">                 <span class="html-tag">&lt;form <span class="html-attribute-name">id</span>="<span class="html-attribute-value">question-form</span>"&gt;</span></td></tr><tr><td class="line-number" value="307"></td><td class="line-content">                    <span class="html-tag">&lt;h3 <span class="html-attribute-name">id</span>="<span class="html-attribute-value">form-title</span>"&gt;</span>住祝 砖 砖<span class="html-tag">&lt;/h3&gt;</span></td></tr><tr><td class="line-number" value="308"></td><td class="line-content">                    <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">hidden</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">question-id</span>"&gt;</span></td></tr><tr><td class="line-number" value="309"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-group</span>"&gt;</span><span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">question-text-input</span>"&gt;</span>拽住 砖:<span class="html-tag">&lt;/label&gt;</span><span class="html-tag">&lt;textarea <span class="html-attribute-name">id</span>="<span class="html-attribute-value">question-text-input</span>" <span class="html-attribute-name">required</span>&gt;</span><span class="html-tag">&lt;/textarea&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="310"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-group</span>"&gt;</span><span class="html-tag">&lt;label&gt;</span>转砖转 (住 转 ):<span class="html-tag">&lt;/label&gt;</span><span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">answers-container</span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">type</span>="<span class="html-attribute-value">button</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">add-answer-btn</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-primary</span>" <span class="html-attribute-name">style</span>="<span class="html-attribute-value">margin-top: 10px;</span>"&gt;</span>住祝 转砖 +<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="311"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-group</span>"&gt;</span><span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">question-topic</span>"&gt;</span>砖:<span class="html-tag">&lt;/label&gt;</span><span class="html-tag">&lt;select <span class="html-attribute-name">id</span>="<span class="html-attribute-value">question-topic</span>" <span class="html-attribute-name">required</span>&gt;</span><span class="html-tag">&lt;option <span class="html-attribute-name">value</span>="" <span class="html-attribute-name">disabled</span> <span class="html-attribute-name">selected</span>&gt;</span>专 砖...<span class="html-tag">&lt;/option&gt;</span><span class="html-tag">&lt;option <span class="html-attribute-name">value</span>="<span class="html-attribute-value">human-body</span>"&gt;</span>祝 <span class="html-tag">&lt;/option&gt;</span><span class="html-tag">&lt;option <span class="html-attribute-name">value</span>="<span class="html-attribute-value">cell</span>"&gt;</span>转<span class="html-tag">&lt;/option&gt;</span><span class="html-tag">&lt;option <span class="html-attribute-name">value</span>="<span class="html-attribute-value">ecology</span>"&gt;</span>拽<span class="html-tag">&lt;/option&gt;</span><span class="html-tag">&lt;/select&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="312"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-group</span>"&gt;</span><span class="html-tag">&lt;label <span class="html-attribute-name">for</span>="<span class="html-attribute-value">question-tags</span>"&gt;</span>转转 (驻专转 驻住拽):<span class="html-tag">&lt;/label&gt;</span><span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">question-tags</span>" <span class="html-attribute-name">placeholder</span>="<span class="html-attribute-value">: 注专转 注, </span>"&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="313"></td><td class="line-content">                    <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">form-actions</span>"&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">type</span>="<span class="html-attribute-value">submit</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">save-question-btn</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-primary</span>"&gt;</span>砖专 砖<span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;button <span class="html-attribute-name">type</span>="<span class="html-attribute-value">button</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">cancel-edit-btn</span>" <span class="html-attribute-name">class</span>="<span class="html-attribute-value">btn-danger</span>"&gt;</span><span class="html-tag">&lt;/button&gt;</span><span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="314"></td><td class="line-content">                <span class="html-tag">&lt;/form&gt;</span></td></tr><tr><td class="line-number" value="315"></td><td class="line-content">            <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="316"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="317"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span> <span class="html-comment">&lt;!-- End Container --&gt;</span></td></tr><tr><td class="line-number" value="318"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="319"></td><td class="line-content">    <span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js" rel="noreferrer noopener">https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="320"></td><td class="line-content">    <span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js" rel="noreferrer noopener">https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="321"></td><td class="line-content">    <span class="html-tag">&lt;script <span class="html-attribute-name">src</span>="<a class="html-attribute-value html-resource-link" target="_blank" href="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js" rel="noreferrer noopener">https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js</a>"&gt;</span><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="322"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="323"></td><td class="line-content">    <span class="html-tag">&lt;script&gt;</span></td></tr><tr><td class="line-number" value="324"></td><td class="line-content">        document.addEventListener('DOMContentLoaded', () =&gt; {</td></tr><tr><td class="line-number" value="325"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="326"></td><td class="line-content">            // --- Firebase Config ---</td></tr><tr><td class="line-number" value="327"></td><td class="line-content">            const firebaseConfig = { apiKey: "AIzaSyAGFC_TB8iEMvS2PyxeASj1HH4i66AW4UA", authDomain: "trivbio.firebaseapp.com", projectId: "trivbio", storageBucket: "trivbio.firebasestorage.app", messagingSenderId: "1097087574583", appId: "1:1097087574583:web:b36c0441537a1f596215b2", measurementId: "G-ZY245YB23E" };</td></tr><tr><td class="line-number" value="328"></td><td class="line-content">            try { firebase.initializeApp(firebaseConfig); } catch (e) { console.error("FATAL: Firebase init failed!", e); const li = document.getElementById('loading'); if(li) li.innerHTML = '&lt;p style="color: red;"&gt;砖转 Firebase!&lt;/p&gt;'; return; }</td></tr><tr><td class="line-number" value="329"></td><td class="line-content">            const auth = firebase.auth(); const database = firebase.database(); console.log("Admin Firebase initialized");</td></tr><tr><td class="line-number" value="330"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="331"></td><td class="line-content">            // --- DOM Elements ---</td></tr><tr><td class="line-number" value="332"></td><td class="line-content">            const loginBtn = document.getElementById('login-btn'), logoutBtn = document.getElementById('logout-btn'), authSect = document.getElementById('auth-section'), adminCont = document.getElementById('admin-content'), loadInd = document.getElementById('loading'), accessDen = document.getElementById('access-denied'), genErr = document.getElementById('general-error'), themeTog = document.getElementById('theme-toggle');</td></tr><tr><td class="line-number" value="333"></td><td class="line-content">            const qListDiv = document.getElementById('questions-list'), searchIn = document.getElementById('search-input'), topicFil = document.getElementById('topic-filter'), clearFilBtn = document.getElementById('clear-filters-btn'), noResMsg = document.getElementById('no-results-message');</td></tr><tr><td class="line-number" value="334"></td><td class="line-content">            const addQBtn = document.getElementById('add-question-btn'), qFormModal = document.getElementById('question-form-modal'), qFormCont = document.getElementById('question-form-container'), qForm = document.getElementById('question-form'), closeModBtn = document.getElementById('close-modal-btn'), formTit = document.getElementById('form-title'), qIdIn = document.getElementById('question-id'), qTextIn = document.getElementById('question-text-input'), ansCont = document.getElementById('answers-container'), addAnsBtn = document.getElementById('add-answer-btn'), qTopicSel = document.getElementById('question-topic'), qTagsIn = document.getElementById('question-tags'), saveQBtn = document.getElementById('save-question-btn'), cancelEdBtn = document.getElementById('cancel-edit-btn');</td></tr><tr><td class="line-number" value="335"></td><td class="line-content">            const statTotQ = document.getElementById('stat-total-questions'), statTotP = document.getElementById('stat-total-players'), statDailyR = document.getElementById('stat-daily-results');</td></tr><tr><td class="line-number" value="336"></td><td class="line-content">            const pagCont = document.getElementById('pagination-controls'), prevPBtn = document.getElementById('prev-page-btn'), nextPBtn = document.getElementById('next-page-btn'), pageInf = document.getElementById('page-info');</td></tr><tr><td class="line-number" value="337"></td><td class="line-content">            if (!authSect || !loadInd || !adminCont || !loginBtn || !qListDiv || !pagCont || !noResMsg || !clearFilBtn) { console.error("FATAL: Missing essential UI elements!"); if(loadInd) loadInd.innerHTML = '&lt;p style="color: red;"&gt;砖: 专 砖拽 住专.&lt;/p&gt;'; return; }</td></tr><tr><td class="line-number" value="338"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="339"></td><td class="line-content">            // --- Global State ---</td></tr><tr><td class="line-number" value="340"></td><td class="line-content">            let currentAdminUid = null, allQuestions = {}, questionsListener = null, filteredQuestionIds = [], currentPage = 1;</td></tr><tr><td class="line-number" value="341"></td><td class="line-content">            const itemsPerPage = 10;</td></tr><tr><td class="line-number" value="342"></td><td class="line-content">            const topicTranslations = { "human-body": "祝 ", "cell": "转", "ecology": "拽", "unknown": " 注" };</td></tr><tr><td class="line-number" value="343"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="344"></td><td class="line-content">            // --- Helpers ---</td></tr><tr><td class="line-number" value="345"></td><td class="line-content">            function showEl(el) { if(el) el.style.display = 'block'; }</td></tr><tr><td class="line-number" value="346"></td><td class="line-content">            function hideEl(el) { if(el) el.style.display = 'none'; }</td></tr><tr><td class="line-number" value="347"></td><td class="line-content">            function showFlexEl(el) { if(el) { el.style.display = 'flex'; document.body.style.overflow = 'hidden'; } }</td></tr><tr><td class="line-number" value="348"></td><td class="line-content">            function debounce(f, w) { let t; return (...a) =&gt; { clearTimeout(t); t = setTimeout(() =&gt; f.apply(this, a), w); }; }</td></tr><tr><td class="line-number" value="349"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="350"></td><td class="line-content">            // --- Theme ---</td></tr><tr><td class="line-number" value="351"></td><td class="line-content">            function setTheme(isDark) { document.body.classList.toggle('dark-mode', isDark); }</td></tr><tr><td class="line-number" value="352"></td><td class="line-content">            if (themeTog) { themeTog.checked = document.body.classList.contains('dark-mode'); themeTog.addEventListener('change', () =&gt; { const d = themeTog.checked; setTheme(d); localStorage.setItem("darkMode", d.toString()); if (currentAdminUid) { database.ref(`players/${currentAdminUid}/adminDarkMode`).set(d).catch(e=&gt;console.warn("Pref save err", e)); } }); }</td></tr><tr><td class="line-number" value="353"></td><td class="line-content">            function loadThemePref(uid) { database.ref(`players/${uid}/adminDarkMode`).once('value').then(s =&gt; { if (s.exists() &amp;&amp; typeof s.val() === 'boolean') { const p = s.val(); if (themeTog &amp;&amp; themeTog.checked !== p) { themeTog.checked = p; setTheme(p); localStorage.setItem("darkMode", p.toString()); console.log("Applied FB dark mode pref."); } } }).catch(e=&gt;console.warn("Pref load err", e)); }</td></tr><tr><td class="line-number" value="354"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="355"></td><td class="line-content">            // --- Auth ---</td></tr><tr><td class="line-number" value="356"></td><td class="line-content">            auth.onAuthStateChanged(async (user) =&gt; {</td></tr><tr><td class="line-number" value="357"></td><td class="line-content">                hideEl(loadInd); hideEl(accessDen); hideEl(genErr); hideEl(adminCont); hideEl(authSect); hideEl(logoutBtn);</td></tr><tr><td class="line-number" value="358"></td><td class="line-content">                if (questionsListener) { database.ref('questions').off('value', questionsListener); questionsListener = null; }</td></tr><tr><td class="line-number" value="359"></td><td class="line-content">                resetFilters(false); allQuestions = {}; filteredQuestionIds = []; currentPage = 1;</td></tr><tr><td class="line-number" value="360"></td><td class="line-content">                if (user) {</td></tr><tr><td class="line-number" value="361"></td><td class="line-content">                    currentAdminUid = user.uid; console.log("Auth: User:", user.uid, "Anon:", user.isAnonymous);</td></tr><tr><td class="line-number" value="362"></td><td class="line-content">                    if (user.isAnonymous) { currentAdminUid = null; showEl(authSect); resetStats(); }</td></tr><tr><td class="line-number" value="363"></td><td class="line-content">                    else {</td></tr><tr><td class="line-number" value="364"></td><td class="line-content">                        showEl(loadInd);</td></tr><tr><td class="line-number" value="365"></td><td class="line-content">                        try { const isAdmin = await checkAdmin(user.uid); hideEl(loadInd); if(isAdmin){ showEl(adminCont); showEl(logoutBtn); loadThemePref(user.uid); loadData(); } else { showEl(accessDen); showEl(logoutBtn); resetStats(); } }</td></tr><tr><td class="line-number" value="366"></td><td class="line-content">                        catch (e) { console.error("Admin check err:", e); hideEl(loadInd); if(genErr) genErr.innerHTML=`&lt;p&gt;锔 砖 转.&lt;/p&gt;`; showEl(genErr); showEl(logoutBtn); resetStats(); }</td></tr><tr><td class="line-number" value="367"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="368"></td><td class="line-content">                } else { currentAdminUid = null; console.log("No user session."); showEl(authSect); resetStats(); }</td></tr><tr><td class="line-number" value="369"></td><td class="line-content">            });</td></tr><tr><td class="line-number" value="370"></td><td class="line-content">            async function checkAdmin(uid) { if (!uid) return false; const s = await database.ref(`admins/${uid}`).once('value'); return s.exists() &amp;&amp; s.val() === true; }</td></tr><tr><td class="line-number" value="371"></td><td class="line-content">            if (loginBtn) loginBtn.addEventListener('click', () =&gt; { const p = new firebase.auth.GoogleAuthProvider(); showEl(loadInd); hideEl(authSect); hideEl(genErr); auth.signInWithPopup(p).catch(e =&gt; { console.error("Login Err:", e); hideEl(loadInd); if(genErr) genErr.innerHTML=`&lt;p&gt;锔 Login failed: ${e.message}&lt;/p&gt;`; showEl(genErr); showEl(authSect); }); });</td></tr><tr><td class="line-number" value="372"></td><td class="line-content">            if (logoutBtn) logoutBtn.addEventListener('click', () =&gt; { auth.signOut().catch(e =&gt; console.error("Logout Err:", e)); });</td></tr><tr><td class="line-number" value="373"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="374"></td><td class="line-content">            // --- Data Loading ---</td></tr><tr><td class="line-number" value="375"></td><td class="line-content">            function loadData() { loadStats(); loadQs(); }</td></tr><tr><td class="line-number" value="376"></td><td class="line-content">            function loadStats() { database.ref('questions').once('value',s=&gt;{if(statTotQ) statTotQ.textContent=s.exists()?s.numChildren():'0';},e=&gt;{console.error("Q# Err",e);if(statTotQ)statTotQ.textContent='ERR'}); database.ref('players').once('value',s=&gt;{if(statTotP) statTotP.textContent=s.exists()?s.numChildren():'0';},e=&gt;{console.error("P# Err",e);if(statTotP)statTotP.textContent=(e.code==='PERMISSION_DENIED')?'N/A':'ERR'}); const today=new Date().toISOString().split('T')[0]; database.ref(`gameResults/${today}`).on('value',s=&gt;{if(statDailyR) statDailyR.textContent=s.exists()?s.numChildren():'0';},e=&gt;{console.error("Daily# Err",e);if(statDailyR)statDailyR.textContent=(e.code==='PERMISSION_DENIED')?'N/A':'ERR';}); }</td></tr><tr><td class="line-number" value="377"></td><td class="line-content">            function loadQs() {</td></tr><tr><td class="line-number" value="378"></td><td class="line-content">                if (questionsListener) database.ref('questions').off('value', questionsListener);</td></tr><tr><td class="line-number" value="379"></td><td class="line-content">                qListDiv.innerHTML = '&lt;p&gt;注 砖转...&lt;/p&gt;'; hideEl(noResMsg); hideEl(pagCont);</td></tr><tr><td class="line-number" value="380"></td><td class="line-content">                const ref = database.ref('questions').orderByKey();</td></tr><tr><td class="line-number" value="381"></td><td class="line-content">                questionsListener = ref.on('value', (s) =&gt; { allQuestions = s.exists() ? s.val() : {}; console.log(`Loaded ${Object.keys(allQuestions).length} Qs.`); /* currentPage = 1; */ filterAndRender(); }, (e) =&gt; { console.error("Load Qs Err:", e); qListDiv.innerHTML=`&lt;p style="color: var(--danger-color);"&gt;砖 注转 砖转.&lt;/p&gt;`; allQuestions={}; filteredQuestionIds=[]; hideEl(noResMsg); hideEl(pagCont); if(questionsListener) ref.off('value', questionsListener); questionsListener=null; });</td></tr><tr><td class="line-number" value="382"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="383"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="384"></td><td class="line-content">            // --- Filtering &amp; Rendering ---</td></tr><tr><td class="line-number" value="385"></td><td class="line-content">            function filterAndRender() {</td></tr><tr><td class="line-number" value="386"></td><td class="line-content">                const term = searchIn ? searchIn.value.toLowerCase().trim() : "";</td></tr><tr><td class="line-number" value="387"></td><td class="line-content">                const topic = topicFil ? topicFil.value : "";</td></tr><tr><td class="line-number" value="388"></td><td class="line-content">                filteredQuestionIds = Object.keys(allQuestions).filter(id =&gt; {</td></tr><tr><td class="line-number" value="389"></td><td class="line-content">                    const d = allQuestions[id]; if (!d?.question) return false; let match = true;</td></tr><tr><td class="line-number" value="390"></td><td class="line-content">                    if (topic &amp;&amp; d.topic !== topic) match = false;</td></tr><tr><td class="line-number" value="391"></td><td class="line-content">                    if (match &amp;&amp; term) { const qt=d.question.toLowerCase(), tpc=d.topic?.toLowerCase()||'', ans=(d.answers||[]).map(a=&gt;String(a).toLowerCase()).join(' '), tgs=(d.tags||[]).map(t=&gt;String(t).toLowerCase()); if (!(qt.includes(term) || tpc.includes(term) || ans.includes(term) || tgs.includes(term) || tgs.some(t=&gt;t.includes(term)))) match=false; } return match;</td></tr><tr><td class="line-number" value="392"></td><td class="line-content">                });</td></tr><tr><td class="line-number" value="393"></td><td class="line-content">                console.log(`Filter: ${filteredQuestionIds.length} matches. Page: ${currentPage}`);</td></tr><tr><td class="line-number" value="394"></td><td class="line-content">                const totalItems = filteredQuestionIds.length, totalPages = Math.ceil(totalItems / itemsPerPage);</td></tr><tr><td class="line-number" value="395"></td><td class="line-content">                if (currentPage &lt; 1) currentPage = 1; if (currentPage &gt; totalPages &amp;&amp; totalPages &gt; 0) currentPage = totalPages;</td></tr><tr><td class="line-number" value="396"></td><td class="line-content">                const start = (currentPage - 1) * itemsPerPage, end = start + itemsPerPage;</td></tr><tr><td class="line-number" value="397"></td><td class="line-content">                const idsToRender = filteredQuestionIds.slice(start, end);</td></tr><tr><td class="line-number" value="398"></td><td class="line-content">                qListDiv.innerHTML = ''; hideEl(noResMsg); // Clear list and hide message initially</td></tr><tr><td class="line-number" value="399"></td><td class="line-content">                if (totalItems === 0) { if (term || topic) showEl(noResMsg); else qListDiv.innerHTML = '&lt;p&gt; 爪 砖转.&lt;/p&gt;'; }</td></tr><tr><td class="line-number" value="400"></td><td class="line-content">                else { idsToRender.forEach(id =&gt; renderQItem(id, allQuestions[id])); }</td></tr><tr><td class="line-number" value="401"></td><td class="line-content">                updatePagControls(totalPages);</td></tr><tr><td class="line-number" value="402"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="403"></td><td class="line-content">            function updatePagControls(totalPages) {</td></tr><tr><td class="line-number" value="404"></td><td class="line-content">                if (!pagCont || !prevPBtn || !nextPBtn || !pageInf) return;</td></tr><tr><td class="line-number" value="405"></td><td class="line-content">                if (totalPages &lt;= 1) hideEl(pagCont);</td></tr><tr><td class="line-number" value="406"></td><td class="line-content">                else { showEl(pagCont); pageInf.textContent = `注 ${currentPage} 转 ${totalPages}`; prevPBtn.disabled = (currentPage === 1); nextPBtn.disabled = (currentPage === totalPages); }</td></tr><tr><td class="line-number" value="407"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="408"></td><td class="line-content">            function renderQItem(id, data) { // Removed ID display</td></tr><tr><td class="line-number" value="409"></td><td class="line-content">                if (!data?.question || !id) return;</td></tr><tr><td class="line-number" value="410"></td><td class="line-content">                const item=document.createElement('div'); item.className='question-item'; item.dataset.id=id;</td></tr><tr><td class="line-number" value="411"></td><td class="line-content">                const summary=document.createElement('div'); summary.className='question-summary';</td></tr><tr><td class="line-number" value="412"></td><td class="line-content">                const text=document.createElement('p'); text.className='question-text'; text.textContent=data.question;</td></tr><tr><td class="line-number" value="413"></td><td class="line-content">                const actions=document.createElement('div'); actions.className='question-actions';</td></tr><tr><td class="line-number" value="414"></td><td class="line-content">                const editBtn=document.createElement('button'); editBtn.textContent='注专'; editBtn.className='btn-primary'; editBtn.onclick=()=&gt;openEditForm(id, data);</td></tr><tr><td class="line-number" value="415"></td><td class="line-content">                const delBtn=document.createElement('button'); delBtn.textContent='拽'; delBtn.className='btn-danger'; delBtn.onclick=()=&gt;deleteQ(id);</td></tr><tr><td class="line-number" value="416"></td><td class="line-content">                actions.append(editBtn, delBtn); summary.append(text, actions); item.append(summary);</td></tr><tr><td class="line-number" value="417"></td><td class="line-content">                const details=document.createElement('span'); details.className='question-details';</td></tr><tr><td class="line-number" value="418"></td><td class="line-content">                const topicKey=data.topic||'unknown'; const hebrewTopic=topicTranslations[topicKey]||topicKey;</td></tr><tr><td class="line-number" value="419"></td><td class="line-content">                details.appendChild(document.createTextNode(`砖: ${hebrewTopic}`));</td></tr><tr><td class="line-number" value="420"></td><td class="line-content">                if(Array.isArray(data.tags) &amp;&amp; data.tags.length &gt; 0){</td></tr><tr><td class="line-number" value="421"></td><td class="line-content">                    details.appendChild(document.createTextNode(" | 转转: "));</td></tr><tr><td class="line-number" value="422"></td><td class="line-content">                    data.tags.forEach((tag, i)=&gt;{ if(!tag)return; const link=document.createElement('a'); link.href='#'; link.className='tag-link'; link.textContent=tag; link.dataset.tag=tag; link.onclick=(e)=&gt;{e.preventDefault(); filterByTag(tag);}; details.appendChild(link); if(i&lt;data.tags.length-1) details.appendChild(document.createTextNode(", ")); });</td></tr><tr><td class="line-number" value="423"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="424"></td><td class="line-content">                item.appendChild(details);</td></tr><tr><td class="line-number" value="425"></td><td class="line-content">                qListDiv.appendChild(item);</td></tr><tr><td class="line-number" value="426"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="427"></td><td class="line-content">            function filterByTag(tag) { if (!tag || !searchIn) return; searchIn.value = tag.trim(); currentPage = 1; filterAndRender(); }</td></tr><tr><td class="line-number" value="428"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="429"></td><td class="line-content">            // --- Filter Listeners ---</td></tr><tr><td class="line-number" value="430"></td><td class="line-content">            if (searchIn) searchIn.addEventListener('input', debounce(() =&gt; { currentPage = 1; filterAndRender(); }, 350));</td></tr><tr><td class="line-number" value="431"></td><td class="line-content">            if (topicFil) topicFil.addEventListener('change', () =&gt; { currentPage = 1; filterAndRender(); });</td></tr><tr><td class="line-number" value="432"></td><td class="line-content">            if (clearFilBtn) clearFilBtn.addEventListener('click', () =&gt; resetFilters(true));</td></tr><tr><td class="line-number" value="433"></td><td class="line-content">            function resetFilters(render=true) { if(searchIn) searchIn.value=''; if(topicFil) topicFil.value=''; currentPage=1; if(render) filterAndRender(); }</td></tr><tr><td class="line-number" value="434"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="435"></td><td class="line-content">            // --- resetStats ---</td></tr><tr><td class="line-number" value="436"></td><td class="line-content">            function resetStats(){if(statTotQ)statTotQ.textContent='?';if(statTotP)statTotP.textContent='?';if(statDailyR)statDailyR.textContent='?';}</td></tr><tr><td class="line-number" value="437"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="438"></td><td class="line-content">            // --- CRUD ---</td></tr><tr><td class="line-number" value="439"></td><td class="line-content">            if(addQBtn) addQBtn.addEventListener('click', openAddForm); if(closeModBtn) closeModBtn.addEventListener('click', closeForm); if(cancelEdBtn) cancelEdBtn.addEventListener('click', closeForm); if(addAnsBtn) addAnsBtn.addEventListener('click', ()=&gt;addAnsField()); if(qForm) qForm.addEventListener('submit', handleFormSub);</td></tr><tr><td class="line-number" value="440"></td><td class="line-content">            function openAddForm(){if(!qForm||!qIdIn||!formTit||!ansCont||!qTopicSel||!qTagsIn||!qFormModal)return;qForm.reset();qIdIn.value='';formTit.textContent='住祝 砖';ansCont.innerHTML='';addAnsField();addAnsField();qTopicSel.value='';qTagsIn.value='';showFlexEl(qFormModal);}</td></tr><tr><td class="line-number" value="441"></td><td class="line-content">            function openEditForm(id,d){if(!qForm||!formTit||!qIdIn||!qTextIn||!qTopicSel||!qTagsIn||!ansCont||!qFormModal||!d)return;qForm.reset();formTit.textContent='注专 砖';qIdIn.value=id;qTextIn.value=d.question||'';qTopicSel.value=d.topic||'';qTagsIn.value=Array.isArray(d.tags)?d.tags.join(', '):'';ansCont.innerHTML='';if(Array.isArray(d.answers)){d.answers.forEach((t,i)=&gt;addAnsField(t,i===d.correct));while(ansCont.children.length&lt;2)addAnsField();}else{addAnsField();addAnsField();}showFlexEl(qFormModal);}</td></tr><tr><td class="line-number" value="442"></td><td class="line-content">            function closeForm(){hideEl(qFormModal);document.body.style.overflow='';}</td></tr><tr><td class="line-number" value="443"></td><td class="line-content">            function addAnsField(t='',c=false){if(!ansCont)return;const n=ansCont.children.length;const dv=document.createElement('div');dv.className='answer-group';const r=document.createElement('input');r.type='radio';r.name='correctAnswer';r.value=n;r.checked=c;r.required=true;r.title=` ${n+1}`;const i=document.createElement('input');i.type='text';i.placeholder=`转砖 ${n+1}`;i.value=t;i.required=true;i.setAttribute('aria-label',`转砖 ${n+1}`);const b=document.createElement('button');b.type='button';b.textContent='';b.className='btn-danger';b.title='住专';b.onclick=()=&gt;{if(ansCont.children.length&gt;2){dv.remove();updateAnsIdx();}else{alert(" 2 转砖转.");}};dv.append(r,i,b);ansCont.appendChild(dv);}</td></tr><tr><td class="line-number" value="444"></td><td class="line-content">            function updateAnsIdx(){if(!ansCont)return;ansCont.querySelectorAll('.answer-group').forEach((g,x)=&gt;{const r=g.querySelector('input[type="radio"]');if(r)r.value=x;const t=g.querySelector('input[type="text"]');if(t)t.placeholder=`转砖 ${x+1}`;});}</td></tr><tr><td class="line-number" value="445"></td><td class="line-content">            async function handleFormSub(ev){ev.preventDefault();if(!saveQBtn||!qIdIn||!qTextIn||!ansCont||!qTopicSel||!qTagsIn)return;saveQBtn.disabled=true;saveQBtn.textContent='砖专...';const qid=qIdIn.value;const ans=[];const ins=ansCont.querySelectorAll('.answer-group input[type="text"]');const corR=ansCont.querySelector('input[type="radio"]:checked');if(!qTextIn.value.trim()){alert("  砖.");return cleanSub();}if(!corR){alert(" 住 转砖 !");return cleanSub();}const corI=parseInt(corR.value,10);let inv=false;ins.forEach(i=&gt;{const v=i.value.trim();if(!v)inv=true;ans.push(v);});if(inv){alert(" 转砖转 转 拽住.");return cleanSub();}if(ans.length&lt;2){alert(" 2 转砖转.");return cleanSub();}if(corI&lt;0||corI&gt;=ans.length){alert("专   转拽.");return cleanSub();}if(!qTopicSel.value){alert(" 专 砖.");return cleanSub();}const tgs=qTagsIn.value.split(',').map(t=&gt;t.trim()).filter(Boolean);const qD={question:qTextIn.value.trim(),answers:ans,correct:corI,topic:qTopicSel.value,tags:tgs.length?tgs:null};try{console.log("Saving:",qid||"(new)",qD);const op=qid?database.ref(`questions/${qid}`).set(qD):database.ref('questions').push(qD);await op;console.log("Saved OK!");closeForm();}catch(e){console.error("Save Err:",e);alert(`砖 砖专: ${e.message}`);}finally{cleanSub();}}</td></tr><tr><td class="line-number" value="446"></td><td class="line-content">            function cleanSub(){if(saveQBtn){saveQBtn.disabled=false;saveQBtn.textContent='砖专 砖';}}</td></tr><tr><td class="line-number" value="447"></td><td class="line-content">            async function deleteQ(id){if(!id||!confirm(` 转  拽 砖 ${id}?`))return;console.log("Deleting:",id);try{await database.ref(`questions/${id}`).remove();console.log("Deleted:",id);}catch(e){console.error("Delete Err:",e);alert(`砖 拽: ${e.message}`);}}</td></tr><tr><td class="line-number" value="448"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="449"></td><td class="line-content">            // --- Pagination Listeners ---</td></tr><tr><td class="line-number" value="450"></td><td class="line-content">            if (prevPBtn) prevPBtn.addEventListener('click', () =&gt; { if (currentPage &gt; 1) { currentPage--; filterAndRender(); } });</td></tr><tr><td class="line-number" value="451"></td><td class="line-content">            if (nextPBtn) nextPBtn.addEventListener('click', () =&gt; { const totalPages = Math.ceil(filteredQuestionIds.length / itemsPerPage); if (currentPage &lt; totalPages) { currentPage++; filterAndRender(); } });</td></tr><tr><td class="line-number" value="452"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="453"></td><td class="line-content">        }); // --- END OF DOMContentLoaded ---</td></tr><tr><td class="line-number" value="454"></td><td class="line-content">    <span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="455"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="456"></td><td class="line-content"><span class="html-tag">&lt;/body&gt;</span></td></tr><tr><td class="line-number" value="457"></td><td class="line-content"><span class="html-tag">&lt;/html&gt;</span><span class="html-end-of-file"></span></td></tr></tbody></table></body></html>